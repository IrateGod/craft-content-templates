(()=>{"use strict";var t={636:(t,e,n)=>{n.r(e)},898:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.id=t.id,this.title=t.title,this.preview=t.preview,this.description=t.description,this.$button=$(this._button())}_button(){const t=$("<button />").append($("<p />").text(this.title));return void 0!==this.preview&&t.append($("<img />").attr("src",this.preview)),null!==this.description&&t.append($("<p />").text(this.description)),t}}}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,n),s.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const t=n(898);n(636),void 0===window.ContentTemplates&&(window.ContentTemplates={}),window.ContentTemplates.Modal=class{constructor(e){this.elementId=e.elementId,this.contentTemplates=[new t.default({title:Craft.t("content-templates","Blank"),description:Craft.t("content-templates","Start off with a clean slate.")})],this.contentTemplates.push(...e.contentTemplates.map((e=>new t.default(e))));const n=$('<div class="modal ct_modal" />').append($('<div class="spinner big">'));this.garnishModal=new Garnish.Modal(n);const a=$('<div class="body" />').appendTo(n).append($('<h2 class="ct_heading" />').text(Craft.t("content-templates","Choose a template"))),o=$('<div class="ct_container" />').appendTo(a);this.contentTemplates.forEach((t=>{$('<div class="ct_template" />').append(t.$button).appendTo(o),t.$button.on("activate",(e=>{if(void 0===t.id)this.garnishModal.hide();else{n.addClass("applying");const e={elementId:this.elementId,contentTemplateId:t.id};Craft.sendActionRequest("POST","content-templates/cp/apply",{data:e}).then((t=>{window.location.href=t.data.redirect})).catch((t=>{var e;n.removeClass("applying"),Craft.cp.displayError(null!==(e=t.error)&&void 0!==e?e:Craft.t("content-templates","An unknown error occurred."))}))}}))}))}}})()})();
//# sourceMappingURL=modal.js.map